@using Dotnet_Dietitian.Application.Features.CQRS.Results.HastaResults
@model GetHastaByIdQueryResult
@{
    ViewData["Title"] = "Profilim - DijetUP";
    Layout = "_PatientLayout";
}

<div class="content-section">
    @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
    {
        <div class="alert alert-danger mb-4">@ViewBag.ErrorMessage</div>
    }

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Profilim</h2>
        <div>
            <button class="btn btn-success">
                <i class="bi bi-pencil-square me-2"></i>Profili Düzenle
            </button>
        </div>
    </div>
    
    <div class="row">
        <div class="col-lg-4 mb-4">
            <div class="card border-0 shadow-sm text-center">
                <div class="card-body p-4">
                    <img src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?w=150&h=150&fit=crop&auto=format" alt="Profile" class="rounded-circle mb-3" width="120" height="120">
                    <h4 class="fw-bold">@Model.Ad @Model.Soyad</h4>
                    <p class="text-muted mb-3">@Model.Email</p>
                    <div class="d-grid gap-2">
                        <button class="btn btn-outline-primary">
                            <i class="bi bi-camera me-2"></i>Fotoğraf Değiştir
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h5 class="mb-0 fw-bold">Kişisel Bilgiler</h5>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">Ad</label>
                                <p class="mb-0 fw-medium fs-5">@Model.Ad</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">Soyad</label>
                                <p class="mb-0 fw-medium fs-5">@Model.Soyad</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">E-posta</label>
                                <p class="mb-0 fw-medium">@Model.Email</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">Telefon</label>
                                <p class="mb-0 fw-medium">@Model.Telefon</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">TC Kimlik Numarası</label>
                                <p class="mb-0 fw-medium">@Model.TcKimlikNumarasi</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">Yaş</label>
                                <p class="mb-0 fw-medium">@Model.Yas</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white py-3">
                    <h5 class="mb-0 fw-bold">Sağlık Bilgileri</h5>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label class="text-muted small">Boy</label>
                                <p class="mb-0 fw-medium fs-5">@(Model.Boy.HasValue ? $"{Model.Boy} cm" : "-")</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label class="text-muted small">Kilo</label>
                                <p class="mb-0 fw-medium fs-5">@(Model.Kilo.HasValue ? $"{Model.Kilo} kg" : "-")</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label class="text-muted small">Vücut Kitle İndeksi</label>
                                @{
                                    string vki = "-";
                                    if (Model.Boy.HasValue && Model.Kilo.HasValue && Model.Boy > 0)
                                    {
                                        float boyMetre = Model.Boy.Value / 100;
                                        float vkiHesap = Model.Kilo.Value / (boyMetre * boyMetre);
                                        vki = vkiHesap.ToString("0.0");
                                    }
                                }
                                <p class="mb-0 fw-medium fs-5">@vki</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">Diyetisyen</label>
                                <p class="mb-0 fw-medium">@(Model.DiyetisyenAdi ?? "-")</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="text-muted small">Diyet Programı</label>
                                <p class="mb-0 fw-medium">@(Model.DiyetProgramiAdi ?? "-")</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 